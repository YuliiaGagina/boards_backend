"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var express_1 = require("express");
var _a = require("../../models/todo"), schemas = _a.schemas, addSchemaForChange = _a.addSchemaForChange, updateStateSchema = _a.updateStateSchema;
var validateBody = require("../../middleware/validateBody");
var isValidId = require("../../middleware/isValidId");
var ctrl = require("../../controllers").todos;
var ctrlWrapper = require("../../helpers/ctrlWrapper");
var router = (0, express_1.Router)();
router.get("/forCurrent", ctrlWrapper(ctrl.getAllForCurrentCard));
// router.get("/myrecipes/", reloadUser, ctrlWrapper(ctrl.getAllForRecentUser));
// router.get("/:id", isValidId, ctrlWrapper(ctrl.getById));
router.post("/", validateBody(schemas.addSchema), ctrlWrapper(ctrl.add));
router.put("/:id", isValidId, validateBody(schemas.addSchemaForChange), ctrlWrapper(ctrl.updateById));
router.delete("/:id", isValidId, ctrlWrapper(ctrl.removeById));
router.patch("/:id/state", isValidId, validateBody(schemas.updateStateSchema), ctrlWrapper(ctrl.updateState));
module.exports = router;
